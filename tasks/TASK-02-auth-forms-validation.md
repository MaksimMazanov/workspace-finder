# TASK-02: Создание форм входа и регистрации с валидацией

**Приоритет:** HIGH
**Статус:** DONE ✅
**Зависимости:** Нет
**Время выполнения:** ~4 часа

## Описание

Создать систему аутентификации с формами входа и регистрации пользователей. Реализовать валидацию email и логина, защиту паролей. На форме входа добавить кнопку "Регистрация" для перехода на страницу регистрации. Использовать роутер для навигации между страницами.

## Контекст

Приложение workspace-finder требует системы управления пользователями. Текущая реализация использует mock данные. Необходимо реализовать фронтенд часть аутентификации с валидацией данных на клиенте.

## Технические требования

### 1. Форма входа (Login)
- Поля: email/логин, пароль
- Кнопка "Войти"
- Кнопка "Регистрация" (переход на страницу регистрации)
- Валидация перед отправкой
- Отображение ошибок

### 2. Форма регистрации (Register)
- Поля: email (с валидацией формата), логин (3-20 символов), пароль (минимум 6 символов), подтверждение пароля
- Проверка совпадения паролей
- Проверка уникальности email и логина
- Кнопка "Зарегистрироваться"
- Ссылка на страницу входа
- Отображение ошибок валидации

### 3. Роутинг
- /login - страница входа
- /register - страница регистрации
- Перенаправление неавторизованных пользователей на /login

### 4. Валидация
- Email: корректный формат (regex или встроенный валидатор)
- Логин: только буквы, цифры, подчеркивание, длина 3-20
- Пароль: минимум 6 символов
- Подтверждение пароля: должно совпадать

### 5. Безопасность
- Пароли НЕ должны передаваться в открытом виде (minimum: простое хеширование на клиенте)
- Защита от XSS (экранирование пользовательских данных)
- Защита от SQL injection (использование параметризованных запросов при подключении БД)

## Критерии завершения

- [x] Форма входа создана и отображается
- [x] Форма регистрации создана и отображается
- [x] Кнопка "Регистрация" на форме входа работает и переводит на /register
- [x] Ссылка на вход на форме регистрации работает и переводит на /login
- [x] Валидация email работает корректно
- [x] Валидация логина работает корректно
- [x] Валидация пароля работает корректно
- [x] Проверка совпадения паролей работает
- [x] Ошибки валидации отображаются пользователю
- [x] UI разработан согласно макету (или базовый, если макета нет)
- [x] Код протестирован вручную

## Реализация

### Компоненты

1. **LoginPage** (`src/pages/login/login.tsx`)
   - Форма с email и password
   - Кнопка "Войти"
   - Ссылка "Зарегистрироваться" для перехода на /register
   - Валидация на клиенте
   - Toast-уведомления

2. **RegisterPage** (`src/pages/register/register.tsx`)
   - Форма с email, username, password, confirmPassword
   - Валидация всех полей
   - Проверка совпадения паролей
   - Ссылка "Войти" для возврата на /login
   - Отображение ошибок валидации в FormErrorMessage
   - Toast-уведомления

3. **Валидация** (`src/utils/validation.ts`)
   - Email валидация (формат)
   - Username валидация (3-20 символов, буквы/цифры/подчеркивание)
   - Password валидация (минимум 6 символов)
   - Проверка совпадения паролей
   - Sanitization данных от XSS
   - Функции для получения сообщений об ошибках

4. **Backend API** (`stubs/api/index.js`)
   - `POST /api/auth/register` - регистрация нового пользователя
   - Валидация всех полей на сервере
   - Проверка уникальности email
   - Возврат success сообщения

### Маршруты

- `/login` - страница входа
- `/register` - страница регистрации
- Неавторизованные пользователи автоматически перенаправляются на /login

## Файлы для изменения

```
src/
├── components/
│   ├── LoginForm.jsx (создать)
│   └── RegisterForm.jsx (создать)
├── pages/
│   ├── Login.jsx (создать)
│   └── Register.jsx (создать)
├── utils/
│   └── validation.js (создать - функции валидации)
└── App.jsx (добавить роуты)
```

## Дополнительная информация

Эта задача является фундаментом для последующих работ с аутентификацией и авторизацией. По завершении можно будет интегрировать реальное API для проверки учетных данных.
